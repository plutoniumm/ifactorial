import{a as n,c as I,f as q,t as va}from"../chunks/Dz5TP3Qf.js";import"../chunks/D-qqgTNc.js";import{o as ma}from"../chunks/CEthcJKZ.js";import{h as ca,a as da,b3 as fa,b as pa,a9 as ra,a2 as m,a4 as l,a3 as f,a5 as j,d as a,R as d,ab as sa,ac as V,av as ga,aw as ua,ad as _a,at as Z,au as ba,aa as C,w as T,b4 as ha,Y as ya}from"../chunks/CZ0gFKRG.js";import{s as W}from"../chunks/C54QalRw.js";import{B as wa,i as M}from"../chunks/YsyOUAZw.js";import{e as J,i as K}from"../chunks/CvE7RDyC.js";import{s as o,r as oa}from"../chunks/CC8wWx3z.js";import{a as xa,F as qa,b as ka}from"../chunks/BfLU0a7q.js";import{b as $a}from"../chunks/CH99iaZJ.js";import{i as ia}from"../chunks/Nyv23mGu.js";import{p as P}from"../chunks/QnPMLEMi.js";import{s as ja}from"../chunks/BD-iLFAu.js";function za(z,y,w){ca&&da();var s=new wa(z),r=!fa();pa(()=>{var t=y();r&&t!==null&&typeof t=="object"&&(t={}),s.ensure(t,w)})}var Sa=q('<img class="rx10 hero svelte-1oqtqmv" loading="lazy"/>'),Ba=q("<source/>"),Ca=q('<picture class="svelte-1oqtqmv"><!> <img class="rx10 hero svelte-1oqtqmv" loading="lazy"/></picture>'),Fa=q('<a class="d-ib svelte-1oqtqmv" target="_blank" rel="noopener noreferrer"><img class="rx5 svelte-1oqtqmv"/></a>'),La=q('<div><a class="svelte-1oqtqmv"><!></a> <div class="w-100 f-col j-ar svelte-1oqtqmv"><div class="fw6" style="font-size: 1.2em;"> </div> <i class="d-i svelte-1oqtqmv"> </i> <div class="external d-n svelte-1oqtqmv"></div></div></div>');function ea(z,y){ra(y,!1);let w=P(y,"book",8);const{author:s,name:r,isbn:t,notes:F,index:p}=w();let u=F?.includes("*");const k=[{name:"amazon",url:`https://www.amazon.com/s?k=${r} ${s}`,icon:"/icons/amzn.png"},{name:"flipkart",url:`https://www.flipkart.com/search?q=${r} ${s}`,icon:"/icons/flip.webp"},{name:"goodreads",url:`https://www.goodreads.com/search?q=${r} ${s}`,icon:"/icons/gr.png"}];ia();var g=La();let $;var S=m(g),R=m(S);{var Q=c=>{var i=I(),_=V(i);{var b=x=>{var h=va();j(()=>W(h,`${`/images/${t}.jpg?w=300;600;900&format=webp;avif;png&quality=80`} was not enhanced. Cannot determine dimensions.`)),n(x,h)},E=x=>{var h=Sa();j(()=>{o(h,"src",`/images/${t}.jpg?w=300;600;900&format=webp;avif;png&quality=80`),o(h,"alt",r)}),n(x,h)};M(_,x=>{d(()=>import.meta.DEV&&!1)?x(b):x(E,!1)})}n(c,i)},Y=c=>{var i=Ca(),_=m(i);J(_,1,()=>d(()=>Object.entries(`/images/${t}.jpg?w=300;600;900&format=webp;avif;png&quality=80`.sources)),K,(E,x)=>{var h=ga(()=>ua(a(x),2));let U=()=>a(h)[0],e=()=>a(h)[1];var v=Ba();j(()=>{o(v,"srcset",e()),o(v,"type","image/"+U())}),n(E,v)});var b=f(_,2);l(i),j(()=>{o(b,"src",d(()=>`/images/${t}.jpg?w=300;600;900&format=webp;avif;png&quality=80`.img.src)),o(b,"alt",r),o(b,"width",d(()=>`/images/${t}.jpg?w=300;600;900&format=webp;avif;png&quality=80`.img.w)),o(b,"height",d(()=>`/images/${t}.jpg?w=300;600;900&format=webp;avif;png&quality=80`.img.h))}),n(c,i)};M(R,c=>{typeof`/images/${t}.jpg?w=300;600;900&format=webp;avif;png&quality=80`=="string"?c(Q):c(Y,!1)})}l(S);var A=f(S,2),B=m(A),D=m(B);l(B);var L=f(B,2),G=m(L,!0);l(L);var N=f(L,2);J(N,5,()=>k,K,(c,i)=>{var _=Fa(),b=m(_);l(_),j(()=>{o(_,"href",(a(i),d(()=>a(i).url))),o(b,"src",(a(i),d(()=>a(i).icon))),o(b,"alt",(a(i),d(()=>`${a(i).name} icon`)))}),n(c,_)}),l(N),l(A),l(g),j(c=>{o(g,"data-key",p),o(g,"id",t),$=ja(g,1,"book t5 d-b f rx20 p5 m5 p-rel svelte-1oqtqmv",null,$,{t5:u,raise:u}),o(S,"href",`#${t}`),W(D,`#${c??""}.
      ${r??""}`),W(G,s)},[()=>d(()=>Number(p)+1)]),n(z,g),sa()}var Ea=q("<div> </div>"),Ma=q('<label class="d-ib f g10 al-ct ptr"><div class="toggle p-rel rx20 svelte-yrg32c"><input class="state d-n svelte-yrg32c" type="checkbox"/> <div class="indicator h-100 rx20 svelte-yrg32c"></div></div> <!></label>');function ta(z,y){let w=P(y,"value",12,!1),s=P(y,"label",8,"");var r=Ma(),t=m(r),F=m(t);oa(F),_a(2),l(t);var p=f(t,2);{var u=k=>{var g=Ea(),$=m(g,!0);l(g),j(()=>W($,s())),n(k,g)};M(p,k=>{s()&&k(u)})}l(r),xa(F,w),n(z,r)}var Ra=q(`<style>.external {
                    display: block !important;
                }</style>`),Aa=q("<style></style>"),Da=q('<title> </title> <meta name="title"/> <meta name="description"/> <a href="#top" class="rx5 m5 p-fix fw7 svelte-jot9ci">&uarr;</a> <div class="f-col"><input id="top" type="text" class="p10 m20 rx10 raise svelte-jot9ci" placeholder="Search by Book/Auth..."/> <div class="f j-ar" style="margin-bottom: 20px;"><!> <!> <!> <!></div></div> <div class="section mx-a w-100 f fw j-ar"><!></div>',1);function Ua(z,y){ra(y,!1);const w=T(),s=T();let r=P(y,"data",8);const t={isCaseSensitive:!1,shouldSort:!1,minMatchCharLength:3,useExtendedSearch:!1,keys:["author","name","description","tags"]},F=new qa(r().books,t);let p=T(""),u=T(),k=T([]);const g=" { opacity: 0.5 !important; }",$=r().index;ma(()=>{C(k,window.mod.given.filter(e=>e.key.startsWith(`${$}-`)).map(e=>Number(e.key.split("-")[1])-1))}),Z(()=>{},()=>{C(w,!1)}),Z(()=>{},()=>{C(s,!1)}),Z(()=>(a(u),a(s),a(k)),()=>{a(u)&&ha(u,a(u).textContent=a(s)?a(k).map(e=>`.book[data-key="${e}"]`).join(`,
`)+g:"")}),ba(),ia();var S=Da(),R=V(S),Q=m(R);l(R);var Y=f(R,2),A=f(Y,2),B=f(A,4),D=m(B);oa(D);var L=f(D,2),G=m(L);ta(G,{label:"Show Links",get value(){return a(w)},set value(e){C(w,e)},$$legacy:!0});var N=f(G,2);ta(N,{label:"Fade Lent",get value(){return a(s)},set value(e){C(s,e)},$$legacy:!0});var c=f(N,2);{var i=e=>{var v=Ra();n(e,v)};M(c,e=>{a(w)&&e(i)})}var _=f(c,2);{var b=e=>{var v=Aa();$a(v,O=>C(u,O),()=>a(u)),n(e,v)};M(_,e=>{a(s)&&e(b)})}l(L),l(B);var E=f(B,2),x=m(E);{var h=e=>{var v=I(),O=V(v);J(O,1,()=>(ya(r()),d(()=>r().books)),K,(X,H)=>{ea(X,{get book(){return a(H)}})}),n(e,v)},U=e=>{var v=I(),O=V(v);za(O,()=>a(p),X=>{var H=I(),la=V(H);J(la,1,()=>(a(p),d(()=>F.search(a(p)))),K,(na,aa)=>{ea(na,{get book(){return a(aa),d(()=>a(aa).item)}})}),n(X,H)}),n(e,v)};M(x,e=>{a(p),d(()=>!a(p).length)?e(h):e(U,!1)})}l(E),j(()=>{W(Q,`Round ${$??""} | i!`),o(Y,"content",`Round ${$??""}`),o(A,"content",`List of readings in the year ${$}`)}),ka(D,()=>a(p),e=>C(p,e)),n(z,S),sa()}export{Ua as component};
